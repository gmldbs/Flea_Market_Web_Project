(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d7448"],{"75a5":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("PageTitle",{attrs:{headerTitle:"Your Selling List",headerSubTitle:"You can see products that you selling or sell or sold"}}),s("div",{staticClass:"product-wrapper section-gap cart-page"},[s("div",{staticClass:"container"},[s("div",{staticClass:"section-title-wrapper"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-12 col-md-6"},[s("h2",[t._v("Your Selling List")]),s("p",{staticClass:"mb-0 lead"},[t._v("You have "),s("span",{staticClass:"text-primary"},[t._v(t._s(t.SellProducts.length))]),t._v(" selling Items")])])])]),s("div",{staticClass:"cart-info"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-12 col-md-6 ml-auto"},[s("div",{staticClass:"bg-light py-4 px-3"},[s("div",{staticClass:"block"},[s("router-link",{staticClass:"btn btn-primary submit-btn btn-block btn-lg",attrs:{to:"/product-add"}},[t._v("Add Product to sell")]),s("a",{staticClass:"btn btn-success submit-btn btn-block btn-lg",on:{click:function(e){return t.cal()}}},[t._v("Calculate Cart, Wish")])],1)])])])]),s("div",{staticClass:"table-responsive mb-5"},[s("table",{staticClass:"table table-bordered"},[t._m(0),s("tbody",t._l(t.SellProducts,(function(e,i){return s("tr",{key:i,on:{click:function(s){return t.goDetail(e)}}},[s("td",{staticClass:"w-20 text-center"},[s("div",{staticClass:"p-img"},[s("img",{staticClass:"img-fluid card-shadow",attrs:{src:t.product_images[i],alt:"product image",width:"80",height:"80"}})])]),s("td",[t._v(t._s(e.product_name))]),s("td",[t._v("$"+t._s(e.product_price)+" "),e.isAuction&&"sold"!=e.state?s("p",[t._v("(changing)")]):t._e(),e.bid_user?s("p",[t._v(" Now Bid user : "+t._s(e.bid_user))]):t._e()]),s("td",[t._v(" "+t._s(e.num_wish)+" ")]),s("td",[t._v(" "+t._s(e.num_cart)+" ")]),s("td",[t._v(" "+t._s(e.state)+" ")]),s("td",{staticClass:"w-20 text-center position-relative"},[s("a",{staticStyle:{"margin-right":"15%"},on:{click:function(s){return t.open_edit(e)}}},[s("i",{staticClass:"mdi mdi-square-edit-outline mdi-36px"})]),s("a",{on:{click:function(s){return t.product_delete(e)}}},[s("i",{staticClass:"mdi mdi-delete mdi-36px"})])])])})),0)])])])]),s("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.edit_dialog,callback:function(e){t.edit_dialog=e},expression:"edit_dialog"}},[s("v-card",[s("v-card-text",[s("v-container",[s("div",{staticClass:"row"},[s("div",[s("h2",{staticClass:"text-capitalize font-2x mb-4"},[t._v("Product Information")])]),s("div",{staticClass:"form-group",staticStyle:{width:"100%"}},[s("label",{attrs:{for:"InputEmail1"}},[t._v("Product name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.product_name,expression:"product_name"}],staticClass:"form-control form-control-lg",attrs:{required:""},domProps:{value:t.product_name},on:{input:function(e){e.target.composing||(t.product_name=e.target.value)}}})]),t.isAuction?t._e():s("div",{staticClass:"form-group",staticStyle:{width:"100%"}},[s("label",{attrs:{for:"InputEmail1"}},[t._v("Price ($)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.product_price,expression:"product_price"}],staticClass:"form-control form-control-lg",attrs:{type:"number",placeholder:"If you want to give this item free, input 0",required:""},domProps:{value:t.product_price},on:{input:function(e){e.target.composing||(t.product_price=e.target.value)}}})]),s("div",{staticClass:"form-group",staticStyle:{width:"100%"}},[s("label",{attrs:{for:"InputEmail1"}},[t._v("How to sell")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.how_to_sell,expression:"how_to_sell"}],staticClass:"form-control form-control-md",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.how_to_sell=e.target.multiple?s:s[0]}}},[s("option",{attrs:{disabled:""}},[t._v("Select Way")]),s("option",[t._v("Direct transaction")]),s("option",[t._v("Deposit and delivery")]),s("option",[t._v("Direct transaction or deposit and delivery")])])]),s("div",{staticClass:"form-group",staticStyle:{width:"100%"}},[s("label",{attrs:{for:"InputEmail1"}},[t._v("Product Description")]),s("v-textarea",{attrs:{solo:"",label:"Product Description"},model:{value:t.product_explain,callback:function(e){t.product_explain=e},expression:"product_explain"}})],1)])])],1),s("v-card-actions",[s("div",{staticClass:"flex-grow-1"}),s("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.close_edit()}}},[t._v("Cancel")]),s("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.save()}}},[t._v("Save")])],1)],1)],1)],1)},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("Image")]),s("th",[t._v("Products")]),s("th",[t._v("Price")]),s("th",[t._v("Number Of Wishlist")]),s("th",[t._v("Number Of Cart")]),s("th",[t._v("State")]),s("th",[t._v("Action")])])])}],r={data:function(){return{user:null,password:null,product_images:[],Products:null,Wishlist:[],WishProducts:[],isWish:[],total:0,Sell:[],SellProducts:[],edit_dialog:!1,product_name:"",how_to_sell:"",product_price:0,product_explain:"",selected_product:null,isAuction:!1}},mounted:function(){this.user=this.$store.getters.getUser,this.user&&(this.Sell=this.user.Sell)},firestore:function(){return{Products:this.$database.collection("Products"),Users:this.$database.collection("Users")}},methods:{cal:function(t,e){for(var s=0;s<this.SellProducts.length;s++){this.SellProducts[s].num_wish=0;for(var i=0;i<this.Users.length;i++)for(var o=0;o<this.Users[i].Wishlist.length;o++)this.Users[i].Wishlist[o]==this.SellProducts[s].productID&&(this.SellProducts[s].num_wish=this.SellProducts[s].num_wish+1)}for(s=0;s<this.SellProducts.length;s++){this.SellProducts[s].num_cart=0;for(i=0;i<this.Users.length;i++)for(o=0;o<this.Users[i].Cart.length;o++)this.Users[i].Cart[o]==this.SellProducts[s].productID&&(this.SellProducts[s].num_cart=this.SellProducts[s].num_cart+1)}for(s=0;s<this.SellProducts.length;s++)this.$database.collection("Products").doc(this.SellProducts[s].productID).set({num_wish:this.SellProducts[s].num_wish,num_cart:this.SellProducts[s].num_cart},{merge:!0})},save:function(){var t=this.close_edit;this.$database.collection("Products").doc(this.selected_product.productID).set({product_name:this.product_name,product_price:this.product_price,product_explain:this.product_explain,how_to_sell:this.how_to_sell},{merge:!0}).then((function(){alert("Update Success!"),t()}))},Product_detail:function(t){this.$store.commit("setProduct",t),this.$router.push("product-detail")},goDetail:function(t){console.log(t)},open_edit:function(t){this.edit_dialog=!0,this.selected_product=t,this.product_name=t.product_name,this.product_price=t.product_price,this.product_explain=t.product_explain,this.how_to_sell=t.how_to_sell,this.isAuction=t.isAuction},close_edit:function(){this.edit_dialog=!1},product_edit:function(t){},product_delete:function(t){this.$database.collection("Products").doc(t.productID)["delete"]().then((function(){alert("Delete End")}))}},watch:{Products:function(){this.product_images=[],this.SellProducts=[];for(var t=0;t<this.Products.length;t++)for(var e=0;e<this.Sell.length;e++)if(this.Sell[e]==this.Products[t].productID){this.SellProducts.push(this.Products[t]),this.product_images.push("https://firebasestorage.googleapis.com/v0/b/web-project-4f3bd.appspot.com/o/images%2F"+this.Products[t].productID+"%2Fthumb?alt=media");break}}}},l=r,a=s("2877"),c=Object(a["a"])(l,i,o,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0d7448.ab6d1a61.js.map